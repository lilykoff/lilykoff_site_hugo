{{ define "main" }}
<section class="projects-section">
    {{ if .Content }}
    <div class="markdown-content" style="text-align:center;">
        {{ .Content }}
    </div>
    {{ end }}

    <div class="projects-grid"
        style="display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem; margin-top: 2rem;">
        {{ range .Pages.ByDate.Reverse }}
        <div class="project-card"
            style="width: 300px; border: 1px solid #ddd; border-radius: 8px; padding: 1rem; text-align: center;">
            {{ if .Params.image }}
            <img src="{{ .Params.image }}" alt="{{ .Title }} plot"
                style="width: 100%; border-radius: 4px; margin-bottom: 1rem;">
            {{ end }}
            <h2>{{ .Title }}</h2>
            <p>{{ .Params.description }}</p>
            <div class="project-links" style="margin-top: 0.5rem;">
                {{ range .Params.links }}
                {{ if .urls }}
                <div class="dropdown">
                    <button class="dropbtn">{{ .name }}</button>
                    <div class="dropdown-content">
                        {{ range .urls }}
                        <a href="{{ .url }}" target="_blank">{{ .name }}</a>
                        {{ end }}
                    </div>
                </div>
                {{ else }}
                <a href="{{ .url }}" target="_blank">{{ .name }}</a>
                {{ end }}
                {{ end }}
            </div>
        </div>
        {{ end }}
    </div>
</section>
{{ end }}